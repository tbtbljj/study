
## 内存管理的基本概念
### 堆（heap）
* 在内存管理的语境下，指：动态分配内存的区域
  * 跟数据结构里的堆不是同一个概念
  * 需要手工释放动态分配的内存，否则会造成内存泄露
* 自由存储区（free store）：
  * 特指：使用new和delete来分配和释放内存的区域
  * 堆的一个子集
  * 通常new和delete底层使用malloc和free来实现，故free store也是堆
    * new和delete操作的区域：freestore
    * malloc和free操作的区域：heap

### 栈（stack）
* 在内存管理的语境下，指：函数调用过程中产生的本地变量和调用数据的区域
  * 跟数据结构里的栈高度相似，满足“后进先出”（last-in-first-out，LIFO）
  
### RAII（Resource Acquisition Is Initialization）
* C++特有的资源管理方式
  * 少量的其他语言也采纳了RAII，如：D、Ada、Rust等
  * 主流的编程语言中，C++是唯一一个依赖RAII来进行资源管理
* 依托栈和析构函数来对所有资源（包括堆内存）进行管理
* 使用RAII，C++不需要类似Java的垃圾收集方法，也能有效地管理内存

## 堆
* 现代编程中，使用堆（动态内存分配）是很自然的事情
* 在堆上分配内存（并构造对象）的示例代码：`auto ptr = new std::vector<int>();`
* 实际上，动态内存分配是较晚出现的
  * 动态内存的不确定性（如内存分配耗时等），导致在一些场合会禁用动态内存，尤其在实时性要求比较高的场合（如飞行控制器、电信设备等）
* 在堆上分配内存，有些语言可能使用new这样的关键字，有些语言则是在对象的构造时隐式分配，不要关键字
  * 通常，程序需要涉及到三个可能的内存管理器的操作：
    1. 让内存管理器**分配**一个某个大小的内存块
    2. 让内存管理器**释放**一个之前分配的内存块
    3. 让内存管理器进行垃圾收集操作，寻找不再使用的内存块并释放
  * C++：操作a和b，Java：操作a和c，Python：操作a、b和c
* 
